<header id="main-header" class="header navbar">
  <div class="container-fluid header-container">
    <div class="header__left-content">
      <button class="d-lg-none navbar-toggler-button" type="button"
        data-bs-toggle="offcanvas"
        data-bs-target="#offcanvas-responsive"
        aria-controls="offcanvas-responsive">
        <%= nav_icon(:hamburger) %>
      </button>
      <%= link_to "RolePlayn", root_path, class: "header-logo col-md-3" %>
    </div>

    <div class="col-md-6 world-select text-center">
      <div class="dropdown">
        <button class="btn city-select-button" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
          <%= @city&.name || "街を選択" %> <%= nav_icon(:chevron_down, size: 15) %>
        </button>
        
        <ul class="dropdown-menu shadow" aria-labelledby="dropdownMenuButton" role="list">
          <% @worlds.each do |world| %>
            <li class="dropdown-header text-uppercase small fw-bold text-muted border-bottom">
              <%= world.name %>
            </li>
            <% world.menu_cities.each do |city| %>
              <li>
                <%= link_to city.name, city_path(city), class: "dropdown-item #{'active' if city == @city}" %>
              </li>
            <% end %>
          <% end %>
        </ul>
      </div>
    </div>
    <div>
      <button class="d-xl-none navbar-toggler-button" type="button"
        data-bs-toggle="offcanvas"
        data-bs-target="#offcanvas-responsive-right"
        aria-controls="offcanvas-responsive-right">
        <%= nav_icon(:three_dots) %>
      </button>
    </div>
  </div>
</header>
